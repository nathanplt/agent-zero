---
description: Agent Zero project conventions and development workflow
globs: ["**/*"]
alwaysApply: true
---

# Agent Zero Project Rules

## Project Overview

Agent Zero is an autonomous agent that plays Roblox incremental games. It runs in an isolated Docker environment with a virtual display, and users observe its progress through a web dashboard.

## Development Workflow

### Starting Work
1. Read `STATUS.md` to find an available feature
2. Read that feature's spec in `PROJECT_PLAN.md`
3. Check dependencies are complete (in STATUS.md Completed section)
4. Claim the feature by updating STATUS.md with `in progress` and your identifier
5. Create a branch: `feature/X.Y-name`

### Working on Features
1. Write tests FIRST (test-driven development required)
2. Implement until tests pass
3. Run: `make check` (runs lint + typecheck + test)
4. Commit with descriptive messages

### Completing Work
1. Update STATUS.md: move feature to Completed
2. Add the next available feature from PROJECT_PLAN.md to Current Work
3. Commit all changes

## Code Conventions

### Python Style
- Python 3.11+ required
- Use type hints everywhere
- Pydantic models for data structures
- Abstract base classes for interfaces
- Follow existing patterns in `src/interfaces/` and `src/models/`

### Testing
- Tests go in `tests/` directory
- Test files named `test_*.py`
- Minimum 80% code coverage
- Mock external services (LLM APIs, Docker, etc.)
- Use pytest fixtures for shared test data

### Imports
- Import from package root when possible: `from src.models import GameState`
- Group imports: stdlib, third-party, local

## Key Commands

```bash
make install-dev   # Install with dev dependencies
make check         # Run all checks (lint + typecheck + test)
make test          # Run tests only
make lint          # Run linter
make typecheck     # Run mypy
make format        # Auto-format code
make docker-build  # Build Docker container
```

## Architecture

- `src/interfaces/` - Abstract base classes defining component contracts
- `src/models/` - Pydantic data models shared across components
- `src/config/` - Configuration loading and validation
- `tests/` - All test files

## Important Files

- `PROJECT_PLAN.md` - Detailed feature specifications
- `STATUS.md` - Current work status and completed features
- `docs/AGENT_WORK_GUIDE.md` - Quick reference for agent workflow
- `configs/default.yaml` - Default configuration values
